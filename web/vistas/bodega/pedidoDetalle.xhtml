<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui"  
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    <ui:composition template="../../Templets/templetAdmon.xhtml">
        <ui:define name="titleapp">
            <h:outputText value="Crear Pedidos"></h:outputText>
        </ui:define>
        <ui:define name="user">
            <h:outputText value="#{loginBean.datosUser.nickName}"></h:outputText>
        </ui:define>
        <ui:define name="title">
            <h:outputText value="Crear Pedidos"></h:outputText>
        </ui:define>
        <ui:define name="body">

            <center>
                <b:panel>



                    <b:modal id="modalpedidosP" title="Pedidos Pendientes" styleClass="modalPedidos">
                        <p:dataScroller value="#{pedidoBeans.listPedidosPendientes}" var="car" chunkSize="10" >
                            <h:panelGrid columns="2" style="width:100%" columnClasses="logo,detail">
                                <p:outputPanel>

                                    <h:panelGrid columns="2" cellpadding="5">
                                        <h:outputText value="Id Pedido:" />
                                        <h:outputText value="#{car.idPedido}" style="font-weight: bold"/>

                                        <h:outputText value="cliente : " />
                                        <h:outputText value="#{car.objetoCliente.objpersona.documento} " style="font-weight: bold"/>

                                        <h:outputText value="Fecha Registro:" />
                                        <h:outputText value="#{car.fechaRegistro}" style="font-weight: bold"/>                                            
                                    </h:panelGrid>

                                    <table jsf:id="detallePedido" class="tbl">
                                        <thead clas="bgcolor">
                                            <tr class="bgcolor tblHeader">
                                                <th class="tblHeader" colspan="6">--</th>                                                                     
                                            </tr>
                                        </thead>
                                        <tbody>                                                   
                                            <tr class="tblHeader">                                                    
                                                <td class="tblHeader">MP</td>
                                                <td class="tblHeader">HR</td>
                                                <td class="tblHeader">REFERENCIA</td>                                  
                                                <td class="tblHeader">TALLA</td>
                                                <td class="tblHeader">CANTIDAD</td>
                                                <td class="tblHeader">DESCRIPCION</td>
                                            </tr>
                                            <tr class="bgcolor2 tblHeader">
                                                <td class="tblHeader" colspan="3">Producto</td>                                                                                                                        
                                                <td class="tblHeader" colspan="3">Informacion</td>                                                                                                   
                                            </tr>

                                            <ui:repeat var="item" value="#{car.listdetallePedido}">
                                                <tr class="tblHeader">  
                                                    <td class="tblHeader inputPedido"> 
                                                        #{car.materiap}
                                                    </td>
                                                    <td class="tblHeader inputPedido2">#{objs.horma}</td>
                                                    <td class="tblHeader" style="width: 112px;">
                                                        #{car.referencia}

                                                    </td>   

                                                    <td class="tblHeader inputPedido">
                                                        <h:outputText value="#{item.cantidad}" /> 

                                                        <!-- <b:inputText id="talla{item.idTalla}" name="talla{item.idTalla}" rendered="{objs.control == 'chek'}" 
                                                                      class="inputPedido" value="{pedidoBeans.gtalla}" >
                                                             <f:ajax event="blur" listener="{pedidoBeans.updateTallePedido(item.idTalla)}" render="@this" immediate="true"/>
                                                         </b:inputText>-->

                                                    </td>

                                                    <td class="tblHeader inputPedido">#{item.cantidad}</td>
                                                    <td class="tblHeader inputPedido">#{item.detalle}</td>
                                                </tr>
                                            </ui:repeat>


                                        </tbody>
                                    </table>

                                    <hr></hr>
                                </p:outputPanel>
                            </h:panelGrid>
                        </p:dataScroller>

                        <f:facet name="footer">
                            <b:button value="Close" dismiss="modal" />
                            <b:button value="Ok" look="primary" dismiss="modal" />
                        </f:facet>
                    </b:modal>
                    <b:growl  id="growl" showDetail="true" placementFrom="bottom"
                              globalOnly="true" />
                    <b:panelGrid colSpans="2,8,2" id="PanelPedidoDet"  >
                        
                    </b:panelGrid>


                        <br/> 

                        <b:row>
                            <b:column medium-screen="3"/>
                            <b:column medium-screen="3">
                                <b:commandButton value="Menu"  offset-sm='4' tiny-screen="half" large-screen="two-thirds" action="#{turnosBeans.homeList()}" immediate="true" icon="tasks"/>                              
                            </b:column>
                            <b:column medium-screen="3" > 
                                <b:button value="Guardar" look="primary"  tiny-screen="half" large-screen="two-thirds" onclick="$('.modalPseudoClass').modal()" icon="disk" ></b:button>                                
                            </b:column>
                            <b:column medium-screen="3"/>
                        </b:row>
                        </h:form>  
                </b:panel>
            </center>
        </ui:define>
    </ui:composition>
</html>